clc
clear

mat = ([[[1;2;3],[4;5;6],[7;8;9]];[[1;2,3],[4,5,6],[7,8,9]];[[1,2,3],[4,5,6],[7,8,9]]]);

[~, disparity_map] = min(mat, [], 2);